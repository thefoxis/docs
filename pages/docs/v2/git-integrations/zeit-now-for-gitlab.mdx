import Doc from '~/components/layout/docs'
import { Image } from '~/components/media'
import Caption from '~/components/text/caption'
import Collapse, { CollapseGroup } from '~/components/collapse'
import GitLabDefaultBehaviour from '~/components/git-mdx/gitlab/default-behaviour.mdx'
import GitLabEnvironmentVariables from '~/components/git-mdx/gitlab/environment-variables.mdx'

export const meta = {
  title: 'ZEIT Now for GitLab',
  description:
    'Deploy each change in your GitLab projects with ZEIT Now to share and test with your colleagues. Instant share-able links to your work with each push. Automatically make your changes available from production domains.',
  editUrl: 'pages/docs/v2/git-integrations/zeit-now-for-gitlab.mdx',
  lastEdited: '2020-01-24T23:33:43.000Z'
}

The ZEIT Now for GitLab integration automatically deploys your GitLab projects with [ZEIT Now](/), providing [Preview Deployment URLs](/docs/v2/platform/deployments#preview), and automatic [Custom Domain](/docs/v2/custom-domains) updates.

<Image
  src={`${process.env.ASSETS}/guides/getting-started-with-now-for-gitlab/deploy-comment.png`}
  width={2080/2.5}
  height={1392/2.5}
/>
<Caption style={{marginTop: '-40px'}}>A deployment from a ZEIT Now for GitLab push.</Caption>

### Connecting with GitLab

Get started from your dashboard by clicking the ["New Project"](/new) button followed by "Connect with GitLab" from the "GitLab" tab under "From your existing code".

<Image
  src={`${process.env.ASSETS}/docs/git-integrations/connect-gitlab.png`}
  width={1184 / 2}
  height={622 / 2}
  shadow
  borderRadius
/>
<Caption>ZEIT Now for GitLab, ready to connect.</Caption>

Once you have authorized the GitLab integration, you will redirect back to the "New Project" page where you can create a new project from an existing repository by clicking the "New Project from GitLab" button under the "GitLab" tab or by selecting a template and creating a GitLab repository from it.

For more information on deploying projects, read [the ZEIT Now introduction documentation](/docs).

### More Information About ZEIT Now for GitLab

For more information, such as a reference for default environment variables, expand the relevant details view below.

<CollapseGroup>
  <Collapse title="Default Behaviour">
    <GitLabDefaultBehaviour />
  </Collapse>

<Collapse title="Included Environment Variables">
    <GitLabEnvironmentVariables />
  </Collapse>
</CollapseGroup>

export default ({ children }) => <Doc meta={meta}>{children}</Doc>

export const config = {
  amp: 'hybrid'
}
